# AtCoder Environment Automator

VS Codeの拡張機能「Competitive Programming Helper (CPH)」の爆速テスト環境と、ローカルでの丁寧なファイル管理（input.txt / output.txt / フォルダ分け）を両立させるための自動化ツールです。

## 🎯 このツールの目的
1.  **開始は爆速で:** CPHを使ってワンクリックで環境構築。
2.  **テストは便利に:** VS Code上で自動テスト実行。
3.  **保存は綺麗に:** 正解（AC）後、スクリプト一発でフォルダ整理＆メタデータ（URLなど）付与。
4.  **復習しやすく:** `input.txt` を自動生成し、デバッガ（ブレイクポイント）を使える状態にする。
5.  **参考コード管理:** 他人の優れたコードも `ref.py` として置くだけで、自動リネームして一緒に保存。

## 🛠 導入方法 (Installation)
1.  このリポジトリに含まれている `arc.py` を、AtCoder用プロジェクトの**ルートディレクトリ（一番上の階層）**に配置してください。
2.  Python 3系がインストールされていることを確認してください。

## 🚀 解くときの手順 (Workflow)

### 1. 問題の作成（ブラウザ操作）
AtCoderの問題ページを開き、CPH拡張機能の実行。
* プロジェクトのルートディレクトリに `PracticeA_...py` のようなファイルが自動生成されます。

### 2. 実装 & テスト（VS Code操作）
ルートにできたファイルでコードを書きます。
テスト時は、左側CPHパネルの **「▶ Run All (青いボタン)」** を押します。

### 3. 参考コードの保存（任意）
AC後、他人のコードで「これは参考になる」というものがあれば、ルートディレクトリに `ref.py` という名前で保存してください。
* ファイル名は `ref.py` 固定でOKです。アーカイブ時に自動でリネームされます。

> **⚠️ 【超重要】 必ず一度は「Run All」を押すこと！**
> CPHは「Run All」を実行したタイミングで、裏側の隠しファイル（`.cph/xxx.prob`）に入出力データを保存します。
> これを忘れると、アーカイブ時に `input.txt` が空っぽになってしまいます。

### 4. アーカイブ（コマンド実行）
AC（正解）したら、ターミナルで以下のコマンドを実行してファイルを整理します。

```bash
# 基本形: python3 arc.py [移動先のフォルダパス]
python3 arc.py practice/abs
```

* **引数の指定:** `practice/abs` などのパスは、VS Codeの左側ツリーでフォルダを右クリック → **「相対パスをコピー」** すると楽に入力できます。
* **ファイル名:** スクリプトが「ルートにある .py ファイル」を自動検出するため、入力不要です。

## 📂 フォルダ構成のルール

アーカイブコマンドを実行すると、以下のように自動変換・移動されます。

**Before (ルートディレクトリ)**

```text
.
├── PracticeA_Welcome_to_AtCoder.py (自分が解いたコード)
├── ref.py                          (他人の参考コード ※任意)
├── .cph/
└── arc.py
```

**After (コマンド実行後)**

```text
practice/abs/
└── PracticeA_Welcome_to_AtCoder/    (自動生成フォルダ)
    ├── PracticeA_Welcome_to_AtCoder.py  　　　　　 (移動された自分のコード)
    ├── PracticeA_Welcome_to_AtCoder_reference.py  (自動リネームされた参考コード)
    ├── input.txt                                  (テストケース1の入力)
    └── output.txt                                 (テストケース1の出力)
```

## ✨ 自動追記されるヘッダー
移動後のPythonファイルの先頭には、以下のようなコメントが自動挿入されます。 Ctrl+クリックで問題ページに飛べるため、復習に最適です。
```text
"""
Title:  PracticeA - Welcome to AtCoder
URL:    [https://atcoder.jp/contests/abs/tasks/practice_1](https://atcoder.jp/contests/abs/tasks/practice_1)
Date:   2026-01-13

Algorithm:
    None  <-- ここに解法をメモ

Complexity:
    Time: O(N)
    Space: O(1)

Points:
"""
```

## 🛠 トラブルシューティング
**Q. input.txt が空っぽなんだけど？**
A. 手順2の 「Run All」 を押し忘れています。
一度アーカイブされてしまったファイルをルートに戻し、もう一度CPHパネルで「Run All」をして（緑のPassなどを確認して）から、再度コマンドを叩いてください。

**Q. コマンドでファイル名を指定しなくていいの？**
A. 不要です。`arc.py` が「ルートにある唯一の .py ファイル」を勝手に見つけて処理します。

**Q. 複数のファイルがルートにある場合は？**
A. 自動的に「一番更新日時が新しいファイル（直近で解いた問題）」が選択されます。

**Q. ref.py を置いたのに移動されない**
A. `ref.py` というファイル名が正確か確認してください（ref.txt などになっていませんか？）。また、メインの解答ファイルが存在しない場合は移動処理自体が走りません。

**Q. Python以外の言語（C++など）でも使えますか？**
A. はい、対応可能です。
arc.py をテキストエディタで開き、冒頭の設定エリアにある TARGET_EXTENSION を変更してください。
```text
TARGET_EXTENSION = ".cpp"
```
